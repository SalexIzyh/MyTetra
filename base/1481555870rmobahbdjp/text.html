<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p align="center" style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fffff0;"><a name="id1"></a><span style=" font-family:'Georgia,Times,serif'; font-size:16pt; color:#0a0aa0;">Н</span><span style=" font-family:'Georgia,Times,serif'; font-size:16pt; color:#0a0aa0;">астройка FTP-сервера</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">    Использование нестандартных номеров портов для FTP-сервера совсем не обязательно, если провайдер не использует фильтрацию трафика, или вам безразлично сканирование портов на уязвимости и попытки подбора паролей. В данной статье, использование FTP-сервера с нестандартными TCP-портами, представлено в качестве одного из возможных вариантов.  Настройки FileZilla Server выполняются через меню &quot;Edit&quot; -&quot;Settings&quot; </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fffff0;"><img src="image11773.png" /><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000;"> <br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">Окно </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">General Settings</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> предназначено для общих настроек FTP-сервера.  В поле &quot;Listen on this port&quot; можно указать номер порта для входящих TCP-соединений. По умолчанию в данном поле установлено значение </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">21</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">, и для использования нестандартного номера нужно указать выбранное значение, например - </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">12321</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">. Использование нестандартного TCP-порта имеет некоторое неудобство, поскольку требует обязательное указание его значения при создании сеанса: </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">ftp://myhost8.ddns.net</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - вид ссылки для случая с использованием стандартных номеров портов. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">ftp://myhost8.ddns.net:12321</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - вид ссылки для случая с использованием номера порта 12321. Если сервер планируется использовать как с доступом из Интернет, так и в локальной сети, есть смысл оставить стандартное значение 21, а нестандартный номер порта использовать для подключений из Интернет, настроив перенаправление пакетов, пришедших на порт 12321 маршрутизатора, на порт 21 FTP-сервера в локальной сети. При такой настройке, для FTP-сессий внутри локальной сети указывать номер порта не нужно. Прочие параметры предназначены для настройки производительности и таймаутов сессий. Их можно оставить без изменений. Остальные разделы общих настроек можно также оставить по умолчанию: </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Welcome Message</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - текст, который передается клиенту при подключении. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">IP Binding</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - на каком сетевом интерфейсе будут ожидаться клиентские подключения. По умолчанию - на любом, но можно указать конкретный, например - 192.168.1.3. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">IP Filter</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройка правил фильтрации IP-адресов клиентов. По умолчанию - разрешены подключения для любых IP. Раздел </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Passive mode settings</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> служит для настроек пассивного режима FTP и потребует изменения практически всех параметров, принятых по умолчанию. </span></p>
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#fffff0;"><img src="image26024.png" /><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000;"> <br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">Номера портов, которые будут использоваться для передачи данных в пассивном режиме, нужно задавать вручную, поскольку потребуется настройка маршрутизатора для перенаправления их на слушаемый сервером сетевой интерфейс. Поэтому нужно установить галочку на разрешение режима &quot;Use custom port range&quot; и задать диапазон - например от </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">50000</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> до </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">50020</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">. Количество портов, слушаемых сервером, определяет предельное число одновременных сеансов передачи данных. Подраздел </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">IPv4 specific</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> определяет IP - адрес, который будет отправляться сервером в ответ на команду PASV. В данном случае, это должен быть не собственный IP сервера 192.168.1.3, а &quot;белый IP&quot; нашего подключения к Интернет. Поэтому нужно установить режим &quot;Use the following IP&quot; и вместо IP-адреса ввести имя, полученное при регистрации на сервисе динамического DNS - </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">myhost8.ddns.net</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;">. В качестве альтернативы, можно использовать режим определения внешнего IP-адреса средствами проекта FileZilla, включив. &quot;Retrieve external IP Address from:&quot;. Данный вариант можно выбрать в тех случаях, когда нет возможности использовать средство динамического DNS. Если предполагается использование FTP - сервера в своей локальной сети, нужно установить режим &quot;Don't use external IP for local connections&quot; (не использовать внешний IP-адрес для соединений внутри локальной сети) Остальные настройки сервера можно оставить без изменений или, при необходимости, выполнить позже:</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Security settings</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки безопасности. По умолчанию - запрещены соединения, которые могут быть использованы для реализации DDoS-атак </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Miscellaneous</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки размеров буферов и прочих параметров журналов и некоторых команд FTP. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Admin Interface settings</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки панели управления сервером. Можно указать сетевой интерфейс, номер слушаемого порта, IP-адреса, с которых разрешено подключение к панели управления и пароль.  </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Logging</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки журнала событий сервера. По умолчанию, запись в файл не выполняется. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Speed Limit</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки ограничения скорости передачи данных. По умолчанию - без ограничений. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Filetransfer compression</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - настройки сжатия файлов при передаче. По умолчанию - без сжатия. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">SSL/TLS settings</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> включение режима шифрования передаваемых данных. По умолчанию - без шифрования. </span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#fffff0;">Autoban</span><span style=" font-family:'Times,Calibri,Myriad Pro,Myriad,Trebuchet MS,Helvetica,Arial,sans-serif'; font-size:8.25pt; color:#000000; background-color:#fffff0;"> - включение автоматической блокировки пользователей, подбирающих пароль для подключения. По умолчанию, автоматическая блокировка выключена. </span></p></body></html>